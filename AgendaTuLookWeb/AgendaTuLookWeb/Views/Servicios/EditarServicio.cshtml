@model ServicioModel;

<section class="">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="row align-items-center mb-4">
                    <div class="col-md-8">
                        <h1 class="display-5 mb-2">Crear Nuevo Servicio</h1>
                        <p class="lead text-muted">Ingrese la información del servicio a registrar</p>
                    </div>
                </div>
                <div class="card shadow-sm">
                    <div class="card-body">
                        <form method="post" asp-controller="Servicios" asp-action="EditarServicio" enctype="multipart/form-data">
                            <input type="hidden" asp-for="ServicioId" value="@Model.ServicioId"/>
                            <input type="hidden" asp-for="Imagen" value="@Model.Imagen" />
                            <div class="row g-3">
                                <!-- Sección de Información General -->
                                <div class="col-12">
                                    <h4>Información General</h4>
                                    <hr>
                                    <img src="@Model.Imagen" class="w-100 p-5" style="height: 40vh; object-fit:contain"/>
                                    <div class="mb-3">
                                        <label for="nombreServicio" class="form-label">Nombre del Servicio</label>
                                        <input asp-for="NombreServicio" type="text" class="form-control form-control-lg" required placeholder="Ingrese el nombre del servicio">
                                    </div>
                                    <div class="mb-3">
                                        <label for="descripcionServicio" class="form-label">Descripción</label>
                                        <textarea asp-for="Descripcion" class="form-control form-control-lg" rows="4" required placeholder="Describa el servicio en detalle"></textarea>
                                    </div>
                                </div>

                                <div class="row">
                                    <h4>Tiempo Y Costo</h4>
                                    <hr class="my-3 ms-2">
                                    <!-- Sección de Tiempo -->
                                    <div class="col-6">
                                        <div class="mb-3">
                                            <label for="precioServicio" class="form-label">Duración</label>
                                            <div class="input-group">
                                                <div class="input-group">
                                                    <span class="input-group-text">Minutos</span>
                                                    <input asp-for="Duracion" type="number" class="form-control form-control-lg" min="1" required placeholder="00:00">
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Sección de Costo -->
                                    <div class="col-6">
                                        <div class="mb-3">
                                            <label for="precioServicio" class="form-label">Precio</label>
                                            <div class="input-group">
                                                <span class="input-group-text">$</span>
                                                <input asp-for="Precio" type="number" class="form-control form-control-lg" step="0.01" required placeholder="0.00">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Sección de Información General -->
                                <div class="col-12">
                                    <h4>Multimedia</h4>
                                    <hr class="my-3">
                                    <div class="row g-3 mt-1">
                                        <!-- Archivos Anexados -->
                                        <div class="col-md-12">
                                            <div id="dropzoneArea" class="dropzone border rounded p-3 bg-white"></div>
                                            <div class="mb-3">
                                                <label for="Archivos" class="form-label">Imagen del Servicio</label>
                                                <input type="file" class="form-control" id="Archivos" name="Archivos" accept="image/*" />
                                                <small class="text-muted">Formatos aceptados: .jpg, .jpeg, .png (Máx. 2MB)</small>
                                                @if (!string.IsNullOrEmpty(Model?.Imagen))
                                                {
                                                    <div class="mt-2">
                                                        <img src="@Model.Imagen" class="img-thumbnail" style="max-height: 200px;" />
                                                        <p class="text-muted mt-1">Imagen actual</p>
                                                    </div>
                                                }
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-12 text-end mt-4">
                                    <button type="submit" class="btn btn-primary btn-lg px-4">
                                        <i class="bi bi-save me-2"></i>Guardar Servicio
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<link href="~/css/estilodropzone.css" rel="stylesheet" />
<script src="~/js/dropzonearchivos.js"></script>